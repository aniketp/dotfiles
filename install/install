#usr/bin/bash

# Installing my beloved ZSH and its sidekick 
DISTRO=`uname -r | cut -d '-' -f 3`

if [ "$DISTRO" == 'ARCH' ]; then
    sudo pacman -S zsh zsh-completions --noconfirm
else
    sudo apt-get -y install zsh
fi

# Check if which zsh is in /etc/shells
flag=0

for shell in $(cat /etc/shells)
do
    if [ "$shell" == $(which zsh) ]; then
        # Some Acknowledgements :P
        echo 'Congrats!! ZSH found in /etc/shells'; sleep 3
        
        # Change the default shell
        chsh -s $(which zsh)
        flag=1
        break
    fi
done

if [ $flag -eq 0 ]; then
    echo "Sorry, ZSH not found in /etc/shell :("
fi
